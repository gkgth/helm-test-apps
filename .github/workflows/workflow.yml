# name: GitHub Actions Demo
# run-name: ${{ github.actor }} is testing out GitHub Actions üöÄ
# on: [push]
# jobs:
#   Explore-GitHub-Actions:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Use secret
#         run: |
#           echo "${{ secrets.API_UPDATE_SECRET }}" > .env
#           cat .env
#           echo "üçè This job's status is ${{ job.status }}."

name: Trigger on PR Comment

on:
  issue_comment:
    types: [created]

jobs:
  keyword_trigger:
    if: github.event.issue.pull_request && contains(github.event.comment.body, '/run-tests')
    runs-on: ubuntu-latest
    steps:
      - name: Print success
        run: echo "‚úÖ Keyword /run-tests matched! Running job..."

      - name: Print commenter
        run: echo "Comment made by - $GITHUB_ACTOR"

      - name: Print origin branch
        env:
          PR_BRANCH: ${{ github.event.pull_request.head.ref }}
        run: echo "PR source branch - $PR_BRANCH"

      - name: Print repo
        run: echo "Repo - $GITHUB_REPOSITORY"
